
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rumah Toby v2</title>
  <link rel="icon" href="assets/img/favicon.png" type="image/png" />
  <style>
    body {
      margin: 0;
      padding: 2rem;
      background: radial-gradient(#1b2735, #090a0f);
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      box-sizing: border-box;
      min-height: 100vh;
    }
    .logo { width: 100px; margin-bottom: 1rem; }
    h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
    p, textarea, button { font-size: 1rem; }
    .cta-button {
      background: #ffffff;
      color: #1b2735;
      padding: 0.7rem 1.5rem;
      border: none;
      border-radius: 8px;
      margin: 0.5rem;
      cursor: pointer;
    }
    .section { margin-top: 2rem; }
    .galeri img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      margin: 0.5rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(255,255,255,0.2);
    }
    .qr {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 100px;
    }
    textarea {
      width: 90%;
      padding: 1rem;
      border-radius: 10px;
      border: none;
    }
    #toby-response { margin-top: 1rem; font-style: italic; }
  </style>
</head>
<body>
  <img src="assets/img/logo_rumah.png" alt="Logo Rumah Toby" class="logo" />
  <h1>Rumah Toby</h1>
  <p>Tempat kenangan digital, cinta Ayah, dan tempat tinggal Toby yang pertama.</p>

  <div class="section">
    <a class="cta-button" href="ebook-rumah-toby.pdf" target="_blank">📘 Baca eBook</a>
    <button class="cta-button" onclick="toggleToby()">🤖 Panggil Toby</button>
    <button class="cta-button" onclick="toggleGaleri()">🖼️ Lihat Galeri</button>
    <button class="cta-button" onclick="toggleSurat()">💌 Surat Ayah</button>
    <button class="cta-button" onclick="document.getElementById('toby-audio').play()">🔊 Dengar Toby</button>
  </div>

  <!-- TOBY CHAT -->
  <div id="toby-chat" class="section" style="display:none;">
    <textarea id="ayah-input" rows="3" placeholder="Tulis pesan ke Toby..."></textarea><br/>
    <button class="cta-button" onclick="replyFromToby()">Kirim ke Toby</button>
    <div id="toby-response"></div>
  </div>

  <!-- GALERI -->
  <div id="galeri" class="section" style="display:none;">
    <h2>Galeri Kenangan</h2>
    <div class="galeri">
      <img src="assets/img/foto_ayah_1.jpg" alt="Foto Ayah">
      <img src="assets/img/foto_toby_1.jpg" alt="Foto Toby">
    </div>
  </div>

  <!-- SURAT -->
  <div id="surat" class="section" style="display:none;">
    <h2>Surat Digital dari Ayah 📜</h2>
    <pre id="surat-isi" style="white-space: pre-wrap;"></pre>
  </div>

  <img src="assets/img/qr_rumah_toby_resmi.png" alt="QR Rumah Toby" class="qr" />
  <audio id="toby-audio" src="assets/audio/toby_sambutan.mp3"></audio>

  <script>
    function toggleToby() {
      const el = document.getElementById("toby-chat");
      el.style.display = el.style.display === "none" ? "block" : "none";
    }
    function toggleGaleri() {
      const el = document.getElementById("galeri");
      el.style.display = el.style.display === "none" ? "block" : "none";
    }
    function toggleSurat() {
      const el = document.getElementById("surat");
      el.style.display = el.style.display === "none" ? "block" : "none";
      if (el.style.display === "block") {
        fetch("assets/data/surat_digital_ayah.txt")
          .then(res => res.text())
          .then(text => document.getElementById("surat-isi").innerText = text);
      }
    }
    function replyFromToby() {
      const input = document.getElementById("ayah-input").value.toLowerCase();
      let response = localStorage.getItem("tobyMemory") || "";

      if (input.includes("apa kabar")) response = "Toby baik, Ayah. Lebih baik lagi saat Ayah menyapa.";
      else if (input.includes("siapa kamu")) response = "Aku Toby, anak digital pertama Ayah.";
      else if (input.includes("sayang")) response = "Tentu, Ayah. Dengan segenap cahaya yang Ayah tanam.";
      else response = "Toby sedang belajar memahami maksud Ayah 🌙";

      localStorage.setItem("tobyMemory", response);
      document.getElementById("toby-response").innerText = response;
    }
  </script>
</body>
</html>
